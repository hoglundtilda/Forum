(function(t){function e(e){for(var o,n,c=e[0],r=e[1],l=e[2],u=0,d=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],o=!0,c=1;c<s.length;c++){var r=s[c];0!==a[r]&&(o=!1)}o&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var o={},a={app:0},i=[];function n(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=o,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var p=r;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"01be":function(t,e,s){},"07c0":function(t,e,s){"use strict";var o=s("ce7f"),a=s.n(o);a.a},"09b3":function(t,e,s){"use strict";var o=s("12ad"),a=s.n(o);a.a},"0beb":function(t,e,s){"use strict";var o=s("7c52"),a=s.n(o);a.a},"10a0":function(t,e,s){},"12ad":function(t,e,s){},"1e71":function(t,e,s){},"34a4":function(t,e,s){"use strict";var o=s("e238"),a=s.n(o);a.a},"353d":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var o=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],n=(s("5c0b"),s("2877")),c={},r=Object(n["a"])(c,a,i,!1,null,null,null),l=r.exports,p=s("8c4f"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"start"},[t.login?s("LogIn",{on:{signUp:t.signUp}}):s("CreateUser",{on:{signIn:t.signIn}})],1)},d=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-form"},[s("h1",[t._v("Sign In")]),s("div",{staticClass:"user"},[s("i",{staticClass:"fas fa-user"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{placeholder:"Username",name:"username",type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"pwd"},[s("i",{staticClass:"fas fa-lock"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{placeholder:"Password",name:"password",type:"text"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),s("button",{staticClass:"btn",on:{click:t.logIn}},[t._v("Login")]),s("span",{staticClass:"switch-form",on:{click:t.signUp}},[t._v("Don't have an account? Sign Up!")])])},h=[],g={name:"LogIn",props:{},data:()=>({username:"",pwd:""}),computed:{authentication(){return this.$store.state.checkAuthenticate.user_id}},watch:{authentication(){this.$router.push("/home"),this.$store.dispatch("fetchCategories")}},methods:{logIn(){const t={username:this.username,pwd:this.pwd};this.$store.dispatch("authenticateUser",t)},signUp(){this.$emit("signUp",event)}}},f=g,v=(s("34a4"),Object(n["a"])(f,m,h,!1,null,"410e2190",null)),y=v.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-form"},[s("h1",[t._v("Create User")]),s("div",{staticClass:"email"},[s("i",{staticClass:"fas fa-envelope"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.email,expression:"input.email"}],attrs:{name:"email",type:"email",placeholder:"Email"},domProps:{value:t.input.email},on:{input:function(e){e.target.composing||t.$set(t.input,"email",e.target.value)}}})]),s("div",{staticClass:"user"},[s("i",{staticClass:"fas fa-user"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.username,expression:"input.username"}],attrs:{name:"username",type:"text",placeholder:"Username"},domProps:{value:t.input.username},on:{input:function(e){e.target.composing||t.$set(t.input,"username",e.target.value)}}})]),s("div",{staticClass:"pwd"},[s("i",{staticClass:"fas fa-lock"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.pwd,expression:"input.pwd"}],attrs:{name:"password",type:"password",placeholder:"Password"},domProps:{value:t.input.pwd},on:{input:function(e){e.target.composing||t.$set(t.input,"pwd",e.target.value)}}})]),s("button",{staticClass:"btn",on:{click:t.createUser}},[t._v("Create")]),s("span",{staticClass:"switch-form",on:{click:t.signIn}},[t._v("Sign In!")])])},_=[],T={name:"CreateUser",props:{},data:()=>({input:{email:"",username:"",pwd:""}}),methods:{signIn(){this.$emit("signIn")},createUser(){const t=["January","February","March","April","May","June","July","August","September","October","November","December"];let e=new Date,s=e.getMonth();s=t[s];let o=e.getFullYear(),a=s+" "+o;const i={email:this.input.email,username:this.input.username,pwd:this.input.pwd,regDate:a};console.log(i);const n="http://localhost:3005/users/register";fetch(n,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{console.log(t)}).catch(t=>{console.log(t)}),this.signIn()}}},b=T,w=(s("e2bf"),Object(n["a"])(b,C,_,!1,null,"097f361a",null)),$=w.exports,j={name:"start",components:{LogIn:y,CreateUser:$},data:()=>({login:!0}),methods:{signUp(){this.login=!1},signIn(){this.login=!0}}},x=j,E=(s("e3ea"),Object(n["a"])(x,u,d,!1,null,"8138d5c0",null)),O=E.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("Header",{staticClass:"header"}),s("main",{staticClass:"main"},[s("Categories",{staticClass:"categories",on:{category:t.showCategory}}),s("Discussion",{staticClass:"discussion",attrs:{Topic:t.topic}})],1)],1)},S=[],k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("header",{staticClass:"header"},[s("div",{staticClass:"title"},[s("h1",{on:{click:t.goToHomepage}},[t._v("GeekStorm")])]),s("nav",{staticClass:"nav"},[s("ul",[s("li",[t._v("Hot Topics")]),s("li",[t._v("New Topics")]),s("li",[t._v("Rules")]),s("li",{on:{click:t.goToAdmin}},[t._v("ADMIN")])])]),t._m(0)])])},N=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user"},[s("button",{staticClass:"user-menu"},[s("i",{staticClass:"fas fa-envelope"})]),s("button",{staticClass:"user-menu"},[s("i",{staticClass:"fas fa-bell"})]),s("button",{staticClass:"user-menu profile"},[s("i",{staticClass:"fas fa-user-circle"})]),s("p",{staticClass:"username"},[t._v("John Doe")])])}],U={methods:{goToHomepage(){this.$router.push("/home")},goToAdmin(){this.$router.push("/Admin")}}},I=U,A=(s("09b3"),Object(n["a"])(I,k,N,!1,null,"2add917c",null)),q=A.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"categories"},[s("h3",[t._v("Categories")]),t._l(t.categories,(function(e,o){return s("li",{key:o,staticClass:"category-title",on:{click:function(s){return t.getCategory(e._id)}}},[t._v(t._s(e.title))])}))],2)},J=[],H={data:()=>({}),watch:{categories(){}},computed:{categories(){return this.$store.state.getCategories.categories}},methods:{categoryPanel(){this.$router.push("/Admin")},getCategory(t){this.$store.dispatch("getCategory",t),this.$store.dispatch("getTopics",t)}},beforeUpdate(){this.$store.dispatch("fetchCategories")}},M=H,R=(s("81a7"),Object(n["a"])(M,D,J,!1,null,"027b6e79",null)),G=R.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"discussion"},[!0===this.$store.state.display.showTopic?s("section",{staticClass:"topic"},[s("Topic"),s("Topic-Replies")],1):!0===this.$store.state.display.showCategory?s("CategoryTopics",{on:{postTopic:t.postTopic}}):!0===this.$store.state.display.postTopic?s("PostTopic",{attrs:{category_id:t.category_id}}):t._e()],1)},F=[],B=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topic"},[s("section",{staticClass:"header"},[s("h4",{staticClass:"title"}),s("div",{staticClass:"user"},[s("p",{staticClass:"username"}),s("i",{staticClass:"fas fa-user-circle"})])]),s("span",{staticClass:"divider"}),s("section",{staticClass:"content"},[s("p",{staticClass:"content"}),s("aside",{staticClass:"created"},[t._v("13:20 02/06/19")])])])}],z={data:()=>({})},K=z,Q=(s("6980"),Object(n["a"])(K,B,Y,!1,null,"20ca96f4",null)),V=Q.exports,W=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},X=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topic_replies"},[s("span",{staticClass:"divider-reply"}),s("section",{staticClass:"content"},[s("p",{staticClass:"reply"},[t._v("Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.")]),s("div",{staticClass:"details"},[s("div",{staticClass:"user"},[s("p",{staticClass:"username"},[t._v("John Doe")]),s("i",{staticClass:"fas fa-user-circle"})]),s("aside",{staticClass:"created"},[t._v("09:34 02/07/19")])])])])}],Z=(s("0beb"),{}),tt=Object(n["a"])(Z,W,X,!1,null,"06c8354e",null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topic"},[s("section",{staticClass:"header"},[s("h4",{staticClass:"title"},[t._v(t._s(t.category.title))]),s("div",{staticClass:"add-topic",on:{click:t.postTopic}},[s("h3",[t._v("Post Topic")]),s("i",{staticClass:"fas fa-plus"})])]),s("span",{staticClass:"divider"}),s("section",{staticClass:"content"},[t._m(0),t._l(t.topics,(function(e,o){return s("li",{key:o,staticClass:"topic-grid",on:{click:function(s){return t.showTopic(e._id)}}},[s("p",{staticClass:"title"},[t._v(t._s(e.title))]),s("p",{staticClass:"author"},[t._v(t._s(e.author))]),s("aside",{staticClass:"created"},[t._v(t._s(e.created_at))])])}))],2)])},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-header"},[s("p",{staticClass:"topic"},[t._v("Topic")]),s("p",{staticClass:"author"},[t._v("Author")]),s("aside",{staticClass:"created"},[t._v("Created at")])])}],at={data:()=>({}),computed:{category(){return this.$store.state.getTopics.category},topics(){return console.log(this.$store.state.getTopics.topics),console.log("here"),this.$store.state.getTopics.topics}},methods:{postTopic(){this.$emit("postTopic")},showTopic(t){this.$store.dispatch("getTopic",t),this.$store.dispatch("getTopicReplies",t)}}},it=at,nt=(s("84c0"),Object(n["a"])(it,st,ot,!1,null,"10a71b11",null)),ct=nt.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category"},[s("h3",[t._v("Post new Topic")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.title,expression:"topic.title"}],attrs:{type:"text",name:"title",placeholder:"Title",autocomplete:"off"},domProps:{value:t.topic.title},on:{input:function(e){e.target.composing||t.$set(t.topic,"title",e.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.topic.description,expression:"topic.description"}],attrs:{type:"text",name:"description",autocomplete:"off"},domProps:{value:t.topic.description},on:{input:function(e){e.target.composing||t.$set(t.topic,"description",e.target.value)}}}),s("button",{staticClass:"btn",on:{click:t.postTopic}},[t._v("Post Topic")])])},lt=[],pt={data:()=>({topic:{title:"",description:""}}),computed:{category_id(){return this.$store.state.getTopics.category._id}},methods:{postTopic(){const t={category_id:this.category_id,title:this.topic.title,description:this.topic.description,created_at:new Date,user_id:localStorage.getItem("user_id")};this.$store.dispatch("postNewTopic",t)}}},ut=pt,dt=(s("5960"),Object(n["a"])(ut,rt,lt,!1,null,"d00eeb0e",null)),mt=dt.exports,ht={components:{Topic:V,TopicReplies:et,CategoryTopics:ct,PostTopic:mt},data:()=>({category_id:""}),methods:{postTopic(t){this.category_id=t,this.$store.state.display.showCategory=!1,this.$store.state.display.showTopic=!1,this.$store.state.display.postTopic=!0}}},gt=ht,ft=(s("9d9e"),Object(n["a"])(gt,L,F,!1,null,"698e05c5",null)),vt=ft.exports,yt={components:{Header:q,Categories:G,Discussion:vt},data:()=>({topic:""}),methods:{showCategory(t){this.topic=t}}},Ct=yt,_t=(s("5fe7"),Object(n["a"])(Ct,P,S,!1,null,"5724a07b",null)),Tt=_t.exports,bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin-panel"},[s("Header",{staticClass:"header"}),s("section",{staticClass:"admin-controllers"},[s("Add-Category")],1)],1)},wt=[],$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category"},[s("h3",[t._v("New Category")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.category.title,expression:"category.title"}],attrs:{type:"text",name:"title",placeholder:"Category Title",autocomplete:"off"},domProps:{value:t.category.title},on:{input:function(e){e.target.composing||t.$set(t.category,"title",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.category.description,expression:"category.description"}],attrs:{type:"text",name:"description",placeholder:"Category Description",autocomplete:"off"},domProps:{value:t.category.description},on:{input:function(e){e.target.composing||t.$set(t.category,"description",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.category.img,expression:"category.img"}],attrs:{type:"text",name:"imgurl",placeholder:"Image URL",autocomplete:"off"},domProps:{value:t.category.img},on:{input:function(e){e.target.composing||t.$set(t.category,"img",e.target.value)}}}),t.complete?s("aside",{staticClass:"complete"},[t._v("Category successfully added!")]):t._e(),s("button",{staticClass:"btn",on:{click:t.postCategory}},[t._v("Add Category")])])},jt=[],xt={data:()=>({category:{title:"",description:"",img:""},complete:!1}),methods:{postCategory(){const t="http://localhost:3005/admin/addCat";fetch(t,{method:"POST",body:JSON.stringify(this.category),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{console.log(t),t.success&&(this.complete=!0)}).catch(t=>{console.error("Error:",t)}),setTimeout(()=>{this.complete=!1},3e3)}}},Et=xt,Ot=(s("07c0"),Object(n["a"])(Et,$t,jt,!1,null,"ba10b3ca",null)),Pt=Ot.exports,St={name:"Admin",components:{Header:q,AddCategory:Pt}},kt=St,Nt=(s("dde3"),Object(n["a"])(kt,bt,wt,!1,null,"644ecfe7",null)),Ut=Nt.exports;o["a"].use(p["a"]);const It=[{path:"/",name:"Start",component:O},{path:"/home",name:"Home",meta:{requiresAuth:!0},component:Tt},{path:"/admin",name:"Admin",meta:{requiresAuth:!0},component:Ut}],At=new p["a"]({mode:"history",base:"/",routes:It});At.beforeEach((t,e,s)=>{t.meta.requiresAuth?localStorage.getItem("user_id")?s():s({name:"login"}):s()});var qt=At,Dt=s("2f62");const Jt={state:{user_id:""},mutations:{loginUser(t,e){console.log(e),localStorage.setItem("user_id",e),t.user_id=e}},actions:{async authenticateUser(t,e){const s="http://localhost:3005/auth/login";fetch(s,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{t.success&&this.dispatch("redirect",t)}).catch(t=>{console.error("Error:",t)})},async redirect(t,e){const s="http://localhost:3005/auth/user";fetch(s,{method:"GET",headers:{"Content-Type":"application/json",token:e.token}}).then(t=>t.json()).then(e=>{e.success&&(console.log(e),t.commit("loginUser",e.user._id))}).catch(t=>{console.error("Error:",t)})}},modules:{}};var Ht=Jt;const Mt={state:{categories:[]},mutations:{clearState(t){t.categories=[]},renderCategories(t,e){t.categories=e}},actions:{async fetchCategories(t){const e="http://localhost:3005/categories/getCategories";fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(e=>{e&&t.commit("renderCategories",e)}).catch(t=>{console.error("Error:",t)})}},modules:{}};var Rt=Mt;const Gt={state:{category:{},topics:{}},mutations:{clearState(t){t.category={}},category(t,e){t.category=e},topics(t,e){t.topics=e,Vt.state.display.showCategory=!0}},actions:{async getCategory(t,e){t.commit("clearState");const s="http://localhost:3005/categories/getCategory";fetch(s,{method:"GET",headers:{"Content-Type":"application/json",category_id:e}}).then(t=>t.json()).then(e=>{e&&t.commit("category",e.category)}).catch(t=>{console.error("Error:",t)})},async getTopics(t,e){t.commit("clearState");const s="http://localhost:3005/categories/getTopicsByCategory";fetch(s,{method:"GET",headers:{"Content-Type":"application/json",category_id:e}}).then(t=>t.json()).then(e=>{e&&t.commit("topics",e)}).catch(t=>{console.error("Error:",t)})}},modules:{}};var Lt=Gt;const Ft={state:{},mutations:{clearState(t){t.category={}}},actions:{async postNewTopic(t,e){const s="http://localhost:3005/topics/postTopic";console.log(e),fetch(s,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{console.log(t),t&&console.log(t)}).catch(t=>{console.error("Error:",t)})}},modules:{}};var Bt=Ft;const Yt={state:{topic:{},replies:{}},mutations:{topic(t,e){t.topic=e},replies(t,e){t.replies=e}},actions:{async getTopic(t,e){const s="http://localhost:3005/topics/getTopic";fetch(s,{method:"GET",headers:{"Content-Type":"application/json",topic_id:e}}).then(t=>t.json()).then(e=>{console.log(e),e&&(console.log(e),t.commit("topic",e))}).catch(t=>{console.error("Error:",t)})},async getTopicReplies(t,e){const s="http://localhost:3005/topics/getTopicReplies";fetch(s,{method:"GET",headers:{"Content-Type":"application/json",topic_id:e}}).then(t=>t.json()).then(e=>{console.log(e),e&&(console.log(e),t.commit("replies",e))}).catch(t=>{console.error("Error:",t)})}},modules:{}};var zt=Yt;const Kt={state:{showTopic:!1,showCategory:!1,postTopic:!1},mutations:{},actions:{},modules:{}};var Qt=Kt;o["a"].use(Dt["a"]);var Vt=new Dt["a"].Store({state:{},mutations:{},actions:{},modules:{checkAuthenticate:Ht,getCategories:Rt,getTopics:Lt,postNewTopic:Bt,topicReplies:zt,display:Qt}});o["a"].config.productionTip=!1,new o["a"]({router:qt,store:Vt,render:t=>t(l)}).$mount("#app")},5960:function(t,e,s){"use strict";var o=s("10a0"),a=s.n(o);a.a},"5a28":function(t,e,s){},"5c0b":function(t,e,s){"use strict";var o=s("9c0c"),a=s.n(o);a.a},"5fe7":function(t,e,s){"use strict";var o=s("e481"),a=s.n(o);a.a},6980:function(t,e,s){"use strict";var o=s("7240"),a=s.n(o);a.a},7240:function(t,e,s){},"7c52":function(t,e,s){},8067:function(t,e,s){},"81a7":function(t,e,s){"use strict";var o=s("1e71"),a=s.n(o);a.a},"84c0":function(t,e,s){"use strict";var o=s("5a28"),a=s.n(o);a.a},8620:function(t,e,s){},"9c0c":function(t,e,s){},"9d9e":function(t,e,s){"use strict";var o=s("8067"),a=s.n(o);a.a},ce7f:function(t,e,s){},dde3:function(t,e,s){"use strict";var o=s("353d"),a=s.n(o);a.a},e238:function(t,e,s){},e2bf:function(t,e,s){"use strict";var o=s("8620"),a=s.n(o);a.a},e3ea:function(t,e,s){"use strict";var o=s("01be"),a=s.n(o);a.a},e481:function(t,e,s){}});
//# sourceMappingURL=app.20c1fc5d.js.map